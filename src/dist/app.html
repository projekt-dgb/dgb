<!doctype html>
<html>
    <head>
        <meta charset="utf-8"/>
        <style type="text/css">/*
 * The default style sheet used to render HTML.
 *
 * Copyright (C) 2000 Lars Knoll (knoll@kde.org)
 * Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011 Apple Inc. All rights reserved.
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Library General Public
 * License as published by the Free Software Foundation; either
 * version 2 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Library General Public License for more details.
 *
 * You should have received a copy of the GNU Library General Public License
 * along with this library; see the file COPYING.LIB.  If not, write to
 * the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 * Boston, MA 02110-1301, USA.
 *
 */

@namespace "http://www.w3.org/1999/xhtml";

html {
    display: block;
}

/* generic block-level elements */

body {
    display: block;
    margin: 8px
}

body:-webkit-full-page-media {
    background-color: rgb(0, 0, 0)
}

p {
    display: block;
    margin-block-start: 1__qem;
    margin-block-end: 1__qem;
    margin-inline-start: 0;
    margin-inline-end: 0;
}

div {
    display: block
}

layer {
    display: block
}

article, aside, footer, header, hgroup, main, nav, section {
    display: block
}

marquee {
    display: inline-block;
    width: -webkit-fill-available;
}

address {
    display: block
}

blockquote {
    display: block;
    margin-block-start: 1__qem;
    margin-block-end: 1em;
    margin-inline-start: 40px;
    margin-inline-end: 40px;
}

figcaption {
    display: block
}

figure {
    display: block;
    margin-block-start: 1em;
    margin-block-end: 1em;
    margin-inline-start: 40px;
    margin-inline-end: 40px;
}

q {
    display: inline
}

q:before {
    content: open-quote;
}

q:after {
    content: close-quote;
}

center {
    display: block;
    /* special centering to be able to emulate the html4/netscape behaviour */
    text-align: -webkit-center
}

hr {
    display: block;
    overflow: hidden;
    unicode-bidi: isolate;
    margin-block-start: 0.5em;
    margin-block-end: 0.5em;
    margin-inline-start: auto;
    margin-inline-end: auto;
    border-style: inset;
    border-width: 1px
}

map {
    display: inline
}

video {
    object-fit: contain;
}

video:-webkit-full-page-media {
    margin: auto;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    max-height: 100%;
    max-width: 100%;
}

audio:not([controls]) {
  display: none !important;
}

/** TODO(crbug.com/985623): Remove these hard-coded audio tag size.
 * This fixed audio tag width/height leads to fail the wpt tests below.
 * crbug.com/955170 external/wpt/css/css-contain/contain-size-replaced-003a.html
 * crbug.com/955163 external/wpt/css/css-contain/contain-size-replaced-003b.html
 * crbug.com/955163 external/wpt/css/css-contain/contain-size-replaced-003c.html
 */
audio {
  width: 300px;
  height: 54px;
}

/* heading elements */

h1 {
    display: block;
    font-size: 2em;
    margin-block-start: 0.67__qem;
    margin-block-end: 0.67em;
    margin-inline-start: 0;
    margin-inline-end: 0;
    font-weight: bold
}

:-webkit-any(article,aside,nav,section) h1 {
    font-size: 1.5em;
    margin-block-start: 0.83__qem;
    margin-block-end: 0.83em;
}

:-webkit-any(article,aside,nav,section) :-webkit-any(article,aside,nav,section) h1 {
    font-size: 1.17em;
    margin-block-start: 1__qem;
    margin-block-end: 1em;
}

:-webkit-any(article,aside,nav,section) :-webkit-any(article,aside,nav,section) :-webkit-any(article,aside,nav,section) h1 {
    font-size: 1.00em;
    margin-block-start: 1.33__qem;
    margin-block-end: 1.33em;
}

:-webkit-any(article,aside,nav,section) :-webkit-any(article,aside,nav,section) :-webkit-any(article,aside,nav,section) :-webkit-any(article,aside,nav,section) h1 {
    font-size: .83em;
    margin-block-start: 1.67__qem;
    margin-block-end: 1.67em;
}

:-webkit-any(article,aside,nav,section) :-webkit-any(article,aside,nav,section) :-webkit-any(article,aside,nav,section) :-webkit-any(article,aside,nav,section) :-webkit-any(article,aside,nav,section) h1 {
    font-size: .67em;
    margin-block-start: 2.33__qem;
    margin-block-end: 2.33em;
}

h2 {
    display: block;
    font-size: 1.5em;
    margin-block-start: 0.83__qem;
    margin-block-end: 0.83em;
    margin-inline-start: 0;
    margin-inline-end: 0;
    font-weight: bold
}

h3 {
    display: block;
    font-size: 1.17em;
    margin-block-start: 1__qem;
    margin-block-end: 1em;
    margin-inline-start: 0;
    margin-inline-end: 0;
    font-weight: bold
}

h4 {
    display: block;
    margin-block-start: 1.33__qem;
    margin-block-end: 1.33em;
    margin-inline-start: 0;
    margin-inline-end: 0;
    font-weight: bold
}

h5 {
    display: block;
    font-size: .83em;
    margin-block-start: 1.67__qem;
    margin-block-end: 1.67em;
    margin-inline-start: 0;
    margin-inline-end: 0;
    font-weight: bold
}

h6 {
    display: block;
    font-size: .67em;
    margin-block-start: 2.33__qem;
    margin-block-end: 2.33em;
    margin-inline-start: 0;
    margin-inline-end: 0;
    font-weight: bold
}

/* tables */

table {
    display: table;
    border-collapse: separate;
    border-spacing: 2px;
    border-color: gray;
    box-sizing: border-box;
    text-indent: initial
}

thead {
    display: table-header-group;
    vertical-align: middle;
    border-color: inherit
}

tbody {
    display: table-row-group;
    vertical-align: middle;
    border-color: inherit
}

tfoot {
    display: table-footer-group;
    vertical-align: middle;
    border-color: inherit
}

/* for tables without table section elements (can happen with XHTML or dynamically created tables) */
table > tr {
    vertical-align: middle;
}

col {
    display: table-column
}

colgroup {
    display: table-column-group
}

tr {
    display: table-row;
    vertical-align: inherit;
    border-color: inherit
}

td, th {
    display: table-cell;
    vertical-align: inherit
}

th {
    font-weight: bold;
    text-align: -internal-center
}

caption {
    display: table-caption;
    text-align: -webkit-center
}

/* lists */

ul, menu, dir {
    display: block;
    list-style-type: disc;
    margin-block-start: 1__qem;
    margin-block-end: 1em;
    margin-inline-start: 0;
    margin-inline-end: 0;
    padding-inline-start: 40px
}

ol {
    display: block;
    list-style-type: decimal;
    margin-block-start: 1__qem;
    margin-block-end: 1em;
    margin-inline-start: 0;
    margin-inline-end: 0;
    padding-inline-start: 40px
}

li {
    display: list-item;
    text-align: -webkit-match-parent;
}

ul ul, ol ul {
    list-style-type: circle
}

ol ol ul, ol ul ul, ul ol ul, ul ul ul {
    list-style-type: square
}

dd {
    display: block;
    margin-inline-start: 40px
}

dl {
    display: block;
    margin-block-start: 1__qem;
    margin-block-end: 1em;
    margin-inline-start: 0;
    margin-inline-end: 0;
}

dt {
    display: block
}

ol ul, ul ol, ul ul, ol ol {
    margin-block-start: 0;
    margin-block-end: 0
}

/* form elements */

form {
    display: block;
    margin-top: 0__qem;
}

:-webkit-any(table, thead, tbody, tfoot, tr) > form:-internal-is-html {
  display: none !important;
}

label {
    cursor: default;
}

legend {
    display: block;
    padding-inline-start: 2px;
    padding-inline-end: 2px;
    border: none
}

fieldset {
    display: block;
    margin-inline-start: 2px;
    margin-inline-end: 2px;
    padding-block-start: 0.35em;
    padding-inline-start: 0.75em;
    padding-inline-end: 0.75em;
    padding-block-end: 0.625em;
    border: 2px groove ThreeDFace;
    min-inline-size: min-content;
}

button {
    appearance: auto;
}

/* Form controls don't go vertical. */
input, textarea, select, button, meter, progress {
    -webkit-writing-mode: horizontal-tb !important;
}

input, textarea, select, button {
    margin: 0__qem;
    font: -webkit-small-control;
    text-rendering: auto; /* FIXME: Remove when tabs work with optimizeLegibility. */
    color: -internal-light-dark(black, white);
    letter-spacing: normal;
    word-spacing: normal;
    line-height: normal;
    text-transform: none;
    text-indent: 0;
    text-shadow: none;
    display: inline-block;
    text-align: start;
}

textarea {
  appearance: auto;
  border: 1px solid -internal-light-dark(#767676, #858585);
  column-count: initial !important;
  -webkit-rtl-ordering: logical;
  resize: auto;
  cursor: text;
  padding: 2px;
  white-space: pre-wrap;
  word-wrap: break-word;
  background-color: -internal-light-dark(#ffffff, #3B3B3B);
  font-family: monospace;
}

input {
    appearance: auto;
    padding:1px 0;
    border: 2px inset -internal-light-dark(#767676, #858585);
    -webkit-rtl-ordering: logical;
    cursor: text;
    background-color: -internal-light-dark(#ffffff, #3B3B3B);
}

input[type="search" i] {
    appearance: auto;
    box-sizing: border-box;
}

input::-webkit-textfield-decoration-container {
    display: flex !important;
    align-items: center;
    -webkit-user-modify: read-only !important;
    content: none !important;
    writing-mode: inherit !important;
    -internal-align-self-block: center;
}

input::-webkit-clear-button {
    appearance: auto;
    display: inline-block;
    cursor: default;
    flex: none;
    -webkit-user-modify: read-only !important;
    margin-inline-start: 2px;
    opacity: 0;
    pointer-events: none;
}

input:enabled:read-write:-webkit-any(:focus,:hover)::-webkit-clear-button {
    opacity: 1;
    pointer-events: auto;
}

input[type="search" i]::-webkit-search-cancel-button {
    appearance: auto;
    display: block;
    cursor: default;
    flex: none;
    -webkit-user-modify: read-only !important;
    margin-inline-start: 1px;
    margin-right: 3px;
    opacity: 0;
    pointer-events: none;
    user-select: none !important;
}

input[type="search" i]:enabled:read-write:-webkit-any(:focus,:hover)::-webkit-search-cancel-button {
    opacity: 1;
    pointer-events: auto;
}

input[type="search" i]::-webkit-search-results-decoration {
  margin: auto 3px auto 2px;
}

input,
input[type="email" i],
input[type="number" i],
input[type="password" i],
input[type="search" i],
input[type="tel" i],
input[type="text" i],
input[type="url" i] {
  padding: 1px 2px;
}

input::-webkit-inner-spin-button {
    appearance: auto;
    display: inline-block;
    cursor: default;
    flex: none;
    align-self: stretch;
    -webkit-user-modify: read-only !important;
    opacity: 0;
    pointer-events: none;
}

input:enabled:read-write:-webkit-any(:focus,:hover)::-webkit-inner-spin-button {
    opacity: 1;
    pointer-events: auto;
}

::-webkit-input-placeholder {
    -webkit-text-security: none;
    color: #757575;
    direction: inherit !important;
    pointer-events: none !important;
    text-orientation: inherit !important;
    writing-mode: inherit !important;
}

input::-webkit-input-placeholder {
    text-overflow: inherit;
    line-height: initial;
    white-space: pre;
    word-wrap: normal;
    overflow: hidden;
    -webkit-user-modify: read-only !important;
}

input::-internal-input-suggested {
    text-overflow: inherit;
    white-space: nowrap;
    overflow: hidden;
}

input::-internal-input-suggested,
textarea::-internal-input-suggested {
    font: -webkit-small-control !important;
    /* Prevent that overflow affects the scrollable area. Without this,
       LayoutBox::*Scroll{Height,Width}() may determine the scroll width/height
       from the scrollable area instead of from the overrides in
       LayoutTextControl{Single,Multi}Line::Scroll{Height,Width}(). */
    overflow: hidden !important;
    overflow-anchor: none;
}

textarea::-internal-input-suggested {
  font-family: monospace !important;
}

input[type="password" i] {
    -webkit-text-security: disc !important;
}

input[type="password" i]::-internal-input-suggested {
    -webkit-text-security: disc !important;
}

input[type="password" i]::-internal-reveal {
  width: 1.3em;
  height: 1.3em;
  cursor: default;
  flex: none;
  background-image: -webkit-image-set(url(images/password_reveal_on.svg) 1x);
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  margin-left: 3px;
  margin-right: 3px;
}

input[type="password" i]::-internal-reveal.reveal {
  background-image: -webkit-image-set(url(images/password_reveal_off.svg) 1x);
}

input[type="password" i]::-internal-reveal:hover,
input[type="password" i]::-internal-reveal:focus {
  border-radius: 1px;
  cursor: pointer;
}

input[type="hidden" i], input[type="image" i], input[type="file" i] {
    appearance: none;
    padding: initial;
    background-color: initial;
    border: initial;
    cursor: default;
}

input[type="file" i] {
    align-items: baseline;
    color: inherit;
    overflow: hidden !important;
    text-align: start !important;
    text-overflow: ellipsis;
    white-space: pre;
}

input[type="image" i] {
    cursor: pointer;
}

/* TODO(crbug.com/880258): Use different styles for
  `-internal-autofill-previewed` and `-internal-autofill-selected`. */
input:-internal-autofill-previewed,
input:-internal-autofill-selected,
textarea:-internal-autofill-previewed,
textarea:-internal-autofill-selected,
select:-internal-autofill-previewed,
select:-internal-autofill-selected {
  appearance: menulist-button;
  background-image:none !important;
  background-color: -internal-light-dark(#E8F0FE, rgba(70,90,126,0.4)) !important;
  color: -internal-light-dark(black, white) !important;
}

input[type="radio" i],
input[type="checkbox" i] {
    margin:3px 3px 3px 4px;
    padding: initial;
    background-color: initial;
    border: initial;
    cursor: default;
}

input[type="radio" i] {
  margin:3px 3px 0 5px;
}

input[type="button" i], input[type="submit" i], input[type="reset" i] {
    -internal-empty-line-height: fabricated;
    appearance: auto;
    -webkit-user-select: none;
    white-space: pre
}

input[type="file" i]::-webkit-file-upload-button {
    appearance: auto;
    -webkit-user-modify: read-only !important;
    white-space: nowrap;
    margin: 0;
    margin-inline-end: 4px;
    font-size: inherit;
}

input[type="button" i],
input[type="submit" i],
input[type="reset" i],
input[type="file" i]::-webkit-file-upload-button,
button {
    align-items: flex-start;
    text-align: center;
    cursor: default;
    padding: 1px 6px;
    border: 2px outset -internal-light-dark(#767676, #858585);
    box-sizing: border-box;
    background-color: -internal-light-dark(#efefef, #3B3B3B);
    color: -internal-light-dark(black, white);
}

input[type="checkbox" i]:disabled,
input[type="file" i]:disabled,
input[type="hidden" i]:disabled,
input[type="image" i]:disabled,
input[type="radio" i]:disabled,
input[type="range" i]:disabled {
    background-color: initial;
}

input[type="range" i] {
    appearance: auto;
    padding: initial;
    border: initial;
    margin: 2px;
    cursor: default;
    color: -internal-light-dark(#101010, #ffffff);
}

input[type="range" i]::-webkit-slider-container,
input[type="range" i]::-webkit-media-slider-container {
    appearance: inherit;
    flex: 1;
    min-inline-size: 0;
    box-sizing: border-box;
    -webkit-user-modify: read-only !important;
    display: flex;
}

input[type="range" i]:-internal-has-datalist::-webkit-slider-container {
    /*
     * See LayoutThemeDefault. "22px" is
     * 2 * (SliderTickOffsetFromTrackCenter() + SliderTickSize().Height()).
     */
    min-block-size: 22px;
}

input[type="range" i]::-webkit-slider-runnable-track {
    flex: 1;
    min-inline-size: 0;
    -webkit-align-self: center;

    box-sizing: border-box;
    -webkit-user-modify: read-only !important;
    display: block;
}

input[type="range" i]::-webkit-slider-thumb,
input[type="range" i]::-webkit-media-slider-thumb {
    appearance: auto;
    box-sizing: border-box;
    -webkit-user-modify: read-only !important;
    display: block;
}

input[type="range" i]:disabled {
  color: #c5c5c5;
}

input[type="button" i]:disabled,
input[type="submit" i]:disabled,
input[type="reset" i]:disabled,
input[type="color" i]:disabled,
input[type="file" i]:disabled::-webkit-file-upload-button,
button:disabled {
  background-color: -internal-light-dark(rgba(239, 239, 239, 0.3), rgba(19, 1, 1, 0.3));
  border-color: -internal-light-dark(rgba(118, 118, 118, 0.3), rgba(195, 195, 195, 0.3));
  color: -internal-light-dark(rgba(16, 16, 16, 0.3), rgba(255, 255, 255, 0.3));
}

select:disabled,
optgroup:disabled,
option:disabled,
select[disabled]>option {
    color: -internal-light-dark(GrayText, #aaa);
}

input[type="button" i]:active, input[type="submit" i]:active, input[type="reset" i]:active, input[type="file" i]:active::-webkit-file-upload-button, button:active {
    border-style: inset
}

input[type="button" i]:active:disabled, input[type="submit" i]:active:disabled, input[type="reset" i]:active:disabled, input[type="file" i]:active:disabled::-webkit-file-upload-button, button:active:disabled {
    border-style: outset
}

input:disabled, textarea:disabled {
    cursor: default;
    background-color: -internal-light-dark(rgba(239, 239, 239, 0.3), rgba(59, 59, 59, 0.3));
    color: -internal-light-dark(#545454, #aaaaaa);
}

input:disabled,
select:disabled,
textarea:disabled {
  border-color: rgba(118, 118, 118, 0.3);
}

option:-internal-spatial-navigation-focus {
    outline: -internal-light-dark(black, white) dashed 1px;
    outline-offset: -1px;
}

/* https://html.spec.whatwg.org/multipage/rendering.html#hidden-elements */
/* TODO(crbug.com/1231263): <area> should be display:none. */
area {
  display: inline;
}
base, basefont, datalist, head, link, meta, noembed,
noframes, param, rp, script, style, template, title {
  display: none;
}
input[type="hidden" i] {
  display: none !important;
}

area:-webkit-any-link {
    cursor: pointer;
}

input[type="checkbox" i] {
    appearance: auto;
    box-sizing: border-box;
}

input[type="radio" i] {
    appearance: auto;
    box-sizing: border-box;
}

input[type="color" i] {
    appearance: auto;
    width: 50px;
    height: 27px;
    /* Same as native_theme_base. */
    border: 1px solid -internal-light-dark(#767676, #858585);
    padding: 1px 2px;
    cursor: default;
    box-sizing: border-box;
    background-color: -internal-light-dark(#efefef, #3B3B3B);
    color: -internal-light-dark(black, white);
}

input[type="color" i]::-webkit-color-swatch-wrapper {
    display:flex;
    padding: 4px 2px;
    box-sizing: border-box;
    -webkit-user-modify: read-only !important;
    width: 100%;
    height: 100%
}

input[type="color" i]::-webkit-color-swatch {
    background-color: #000000;
    border: 1px solid #777777;
    flex: 1;
    min-width: 0;
    -webkit-user-modify: read-only !important;
}

input[type="color" i][list] {
    appearance: auto;
    width: 94px;
    height: 27px
}

input[type="color" i][list]::-webkit-color-swatch-wrapper {
    padding-inline-start: 8px;
    padding-inline-end: 24px;
}

input[type="color" i][list]::-webkit-color-swatch {
    border-color: #000000;
}

input::-webkit-calendar-picker-indicator {
    display: inline-block;
    width: 0.66em;
    height: 0.66em;
    padding: 0.17em 0.34em;
    -webkit-user-modify: read-only !important;
    opacity: 0;
    cursor: default;
    pointer-events: none;
}

input::-webkit-calendar-picker-indicator:hover {
    background-color: #eee;
}

input:enabled:read-write:-webkit-any(:focus,:hover)::-webkit-calendar-picker-indicator,
input::-webkit-calendar-picker-indicator:focus {
    opacity: 1;
    pointer-events: auto;
}

input[type="date" i]:disabled::-webkit-clear-button,
input[type="date" i]:disabled::-webkit-inner-spin-button,
input[type="datetime-local" i]:disabled::-webkit-clear-button,
input[type="datetime-local" i]:disabled::-webkit-inner-spin-button,
input[type="month" i]:disabled::-webkit-clear-button,
input[type="month" i]:disabled::-webkit-inner-spin-button,
input[type="week" i]:disabled::-webkit-clear-button,
input[type="week" i]:disabled::-webkit-inner-spin-button,
input:disabled::-webkit-calendar-picker-indicator,
input[type="date" i][readonly]::-webkit-clear-button,
input[type="date" i][readonly]::-webkit-inner-spin-button,
input[type="datetime-local" i][readonly]::-webkit-clear-button,
input[type="datetime-local" i][readonly]::-webkit-inner-spin-button,
input[type="month" i][readonly]::-webkit-clear-button,
input[type="month" i][readonly]::-webkit-inner-spin-button,
input[type="week" i][readonly]::-webkit-clear-button,
input[type="week" i][readonly]::-webkit-inner-spin-button,
input[readonly]::-webkit-calendar-picker-indicator {
    visibility: hidden;
}

select {
    appearance: auto;
    box-sizing: border-box;
    align-items: center;
    white-space: pre;
    -webkit-rtl-ordering: logical;
    color: -internal-light-dark(black, white);
    background-color: -internal-light-dark(#ffffff, #3B3B3B);
    border: 1px solid -internal-light-dark(#767676, #858585);
    cursor: default;
    border-radius: 0;
}

select:disabled {
  opacity: 0.7;
}

/* -internal-list-box is how we specify select[multiple] */
/* select[multiple] is an exception to the prohibition on sizes here
   because it is one of the few controls with borders that grow on zoom
   (to solve a nasty scrollbar location problem) */
select:-internal-list-box {
    appearance: auto;
    align-items: flex-start;
    overflow-x: hidden;
    overflow-y: scroll;
    vertical-align: text-bottom;
    white-space: nowrap;
    border-radius: 2px;
}

select:not(:-internal-list-box) {
    overflow: visible !important;
}

select:-internal-list-box optgroup option:before {
    content: "\00a0\00a0\00a0\00a0";;
}

select:-internal-list-box option,
select:-internal-list-box optgroup {
    line-height: initial !important;
}

/* option selected, list-box focused */
/* TODO(crbug.com/1244986): We should be able to remove !important here, but
   it breaks some WebUI menus. */
select:-internal-list-box:focus option:checked,
select:-internal-list-box:focus option:checked:hover {
    /* TODO(crbug.com/1129658): The dark mode color here should be handled
       within LayoutTheme::ActiveListBoxSelectionBackgroundColor(). */
    background-color: -internal-light-dark(-internal-active-list-box-selection, #99C8FF) !important;
    color: -internal-light-dark(-internal-active-list-box-selection-text, #3B3B3B) !important;
}

/* TODO(crbug.com/1244986): We should be able to remove !important here, but
   it breaks some WebUI menus. */
select:-internal-list-box:focus option:checked:disabled {
    /* TODO(crbug.com/1129658): The dark mode color here should be handled
       within LayoutTheme::ActiveListBoxSelectionBackgroundColor(). */
    background-color: -internal-light-dark(-internal-inactive-list-box-selection, rgba(59, 59, 59, 0.3)) !important;
}

/* option selected, list-box not focused */
select:-internal-list-box option:checked,
select:-internal-list-box option:checked:hover {
    background-color: -internal-light-dark(#cecece, #545454);
    color: -internal-light-dark(#101010, #FFFFFF);
}

select:-internal-list-box:disabled option:checked,
select:-internal-list-box option:checked:disabled,
select:-internal-list-box option:checked:disabled:hover {
    color: -internal-light-dark(gray, #aaa);
}

select:-internal-list-box hr {
    border-style: none;
    margin-block-start: 0.5em;
    margin-block-end: 0;
}

select:-internal-list-box:focus-visible option:-internal-multi-select-focus {
    outline: auto 1px -webkit-focus-ring-color;
    outline-offset: -1px;
}

select:-internal-list-box option:hover {
    background-color: initial;
}

optgroup {
    font-weight: bolder;
    display: block;
}

option {
    font-weight: normal;
    display: block;
    padding: 0 2px 1px 2px;
    white-space: nowrap;
    min-height: 1.2em;
}

/* selectmenu */

selectmenu {
    display: inline-block;
}

/* TODO(crbug.com/1121840) It's deliberate for now that this provides styles
for <option> but not other element types with part="option".  Could this
be a mechanism for allowing authors to specify their own styles for
option parts by using e.g. <div part="option">, while authors that
want the default styles can instead just use <option>? */
selectmenu option:hover {
    background-color: lightgray;
    cursor: default;
    user-select: none;
}

output {
    display: inline;
}

/* meter */

meter {
    appearance: auto;
    box-sizing: border-box;
    display: inline-block;
    height: 1em;
    width: 5em;
    vertical-align: -0.2em;
    -webkit-user-modify: read-only !important;
}

meter::-webkit-meter-inner-element {
    appearance: inherit;
    box-sizing: inherit;
    display: none;
    -webkit-user-modify: read-only !important;
    height: 100%;
    width: 100%;
}

meter::-webkit-meter-inner-element:-internal-shadow-host-has-appearance {
    display: grid;
    grid-template-rows: 1fr [line1] 2fr [line2] 1fr;
    position: relative;
}

meter::-internal-fallback:-internal-shadow-host-has-appearance {
    display: none;
}

meter::-webkit-meter-bar {
    height: 100%;
    width: 100%;
    -webkit-user-modify: read-only !important;
    background: -internal-light-dark(#efefef, #3B3B3B);
    border: thin solid -internal-light-dark(rgba(118, 118, 118, 0.3), #858585);
    grid-row-start: line1;
    grid-row-end: line2;
    border-radius: 20px;
    box-sizing: border-box;
    align-self: unsafe center;
    position: absolute;
    overflow: hidden;
}

meter::-webkit-meter-optimum-value {
    height: 100%;
    -webkit-user-modify: read-only !important;
    box-sizing: border-box;
    background: -internal-light-dark(#107c10, #74b374)
}

meter::-webkit-meter-suboptimum-value {
    height: 100%;
    -webkit-user-modify: read-only !important;
    box-sizing: border-box;
    background: -internal-light-dark(#ffb900, #f2c812)
}

meter::-webkit-meter-even-less-good-value {
    height: 100%;
    -webkit-user-modify: read-only !important;
    box-sizing: border-box;
    background: -internal-light-dark(#d83b01, #e98f6d)
}

/* progress */

progress {
    appearance: auto;
    box-sizing: border-box;
    display: inline-block;
    height: 1em;
    width: 10em;
    vertical-align: -0.2em;
}

progress::-webkit-progress-inner-element {
    box-sizing: inherit;
    -webkit-user-modify: read-only;
    height: 100%;
    width: 100%;
}

progress::-webkit-progress-bar {
    background-color: gray;
    height: 100%;
    width: 100%;
    -webkit-user-modify: read-only !important;
    box-sizing: border-box;
}

progress::-webkit-progress-value {
    background-color: green;
    height: 100%;
    width: 50%; /* should be removed later */
    -webkit-user-modify: read-only !important;
    box-sizing: border-box;
}

/* inline elements */

u, ins {
    text-decoration: underline
}

abbr[title], acronym[title] {
    text-decoration: dotted underline;
}

strong, b {
    font-weight: bold
}

i, cite, em, var, address, dfn {
    font-style: italic
}

tt, code, kbd, samp {
    font-family: monospace
}

pre, xmp, plaintext, listing {
    display: block;
    font-family: monospace;
    white-space: pre;
    margin: 1__qem 0
}

mark {
    background-color: yellow;
    color: black
}

big {
    font-size: larger
}

small {
    font-size: smaller
}

s, strike, del {
    text-decoration: line-through
}

sub {
    vertical-align: sub;
    font-size: smaller
}

sup {
    vertical-align: super;
    font-size: smaller
}

nobr {
    white-space: nowrap
}

/* states */

:-internal-spatial-navigation-interest {
    outline: auto 1px -webkit-focus-ring-color !important;
    box-shadow: none !important
}

:focus-visible {
    outline: auto 1px -webkit-focus-ring-color
}

html:focus-visible, body:focus-visible {
    outline: none
}

embed:focus-visible, iframe:focus-visible, object:focus-visible {
    outline: none
}

input:focus-visible, textarea:focus-visible, select:focus-visible {
    outline-offset: 0;
}

input[type="button" i]:focus-visible,
input[type="file" i]:focus-visible,
input[type="hidden" i]:focus-visible,
input[type="image" i]:focus-visible,
input[type="reset" i]:focus-visible,
input[type="submit" i]:focus-visible,
input[type="file" i]:focus-visible::-webkit-file-upload-button {
    outline-offset: 0
}

input[type="checkbox" i]:focus-visible,
input[type="radio" i]:focus-visible {
  outline-offset: 2px;
}


input[type="date" i]::-webkit-calendar-picker-indicator,
input[type="datetime-local" i]::-webkit-calendar-picker-indicator,
input[type="month" i]::-webkit-calendar-picker-indicator,
input[type="week" i]::-webkit-calendar-picker-indicator {
  background-image: -internal-light-dark(-webkit-image-set(url(images/calendar_icon.svg) 1x), -webkit-image-set(url(images/calendar_icon_white.svg) 1x));
  background-origin: content-box;
  background-repeat: no-repeat;
  background-size: contain;
  height: 1.2em;
  margin-inline-start: 24px;
  opacity: 1;
  outline: none;
  padding-bottom: 2px;
  padding-inline-start: 3px;
  padding-inline-end: 3px;
  padding-top: 2px;
  width: 1.2em;
}

input[type="date" i]::-webkit-calendar-picker-indicator:focus-visible,
input[type="datetime-local" i]::-webkit-calendar-picker-indicator:focus-visible,
input[type="month" i]::-webkit-calendar-picker-indicator:focus-visible,
input[type="week" i]::-webkit-calendar-picker-indicator:focus-visible {
  outline: solid 2px -webkit-focus-ring-color;
  outline-offset: -2px;
}

input[type="time" i]::-webkit-calendar-picker-indicator {
  background-image: -internal-light-dark(-webkit-image-set(url(images/time_icon.svg) 1x), -webkit-image-set(url(images/time_icon_white.svg) 1x));
  background-origin: content-box;
  background-repeat: no-repeat;
  background-size: contain;
  height: 1.05em;
  margin-inline-start: 8px;
  opacity: 1;
  outline: none;
  padding-bottom: 3px;
  padding-inline-start: 3px;
  padding-inline-end: 3px;
  padding-top: 3px;
  width: 1.05em;
}

input[type="time" i]::-webkit-calendar-picker-indicator:focus-visible {
  outline: solid 2px -webkit-focus-ring-color;
  outline-offset: -2px;
}

input::-webkit-calendar-picker-indicator:hover {
  background-color: initial;
}

input::-webkit-datetime-edit-ampm-field:focus,
input::-webkit-datetime-edit-day-field:focus,
input::-webkit-datetime-edit-hour-field:focus,
input::-webkit-datetime-edit-millisecond-field:focus,
input::-webkit-datetime-edit-minute-field:focus,
input::-webkit-datetime-edit-month-field:focus,
input::-webkit-datetime-edit-second-field:focus,
input::-webkit-datetime-edit-week-field:focus,
input::-webkit-datetime-edit-year-field:focus {
    background-color: -internal-light-dark(highlight, #99C8FF);
    color: -internal-light-dark(highlighttext, #000000);
    outline: none;
}

input::-webkit-datetime-edit-year-field[disabled],
input::-webkit-datetime-edit-month-field[disabled],
input::-webkit-datetime-edit-week-field[disabled],
input::-webkit-datetime-edit-day-field[disabled],
input::-webkit-datetime-edit-ampm-field[disabled],
input::-webkit-datetime-edit-hour-field[disabled],
input::-webkit-datetime-edit-millisecond-field[disabled],
input::-webkit-datetime-edit-minute-field[disabled],
input::-webkit-datetime-edit-second-field[disabled] {
    color: -internal-light-dark(GrayText, #000000);
}

a:-webkit-any-link {
    color: -webkit-link;
    text-decoration: underline;
    cursor: pointer;
}

a:-webkit-any-link:active {
    color: -webkit-activelink
}

a:-webkit-any-link:read-write {
    cursor: text;
}

a:-webkit-any-link:focus-visible {
  outline-offset: 1px;
}

/* HTML5 ruby elements */

ruby, rt {
    text-indent: 0; /* blocks used for ruby rendering should not trigger this */
}

rt {
    line-height: normal;
    -webkit-text-emphasis: none;
}

ruby > rt {
    display: block;
    font-size: 50%;
    text-align: start;
}

/* other elements */

frameset, frame {
    display: block
}

frameset {
    border-color: inherit
}

iframe {
    border: 2px inset
}

details {
    display: block
}

summary {
    display: block
}

/*
 * https://html.spec.whatwg.org/C/#the-details-and-summary-elements
 * The specification doesn't have |details >| and |:first-of-type|.
 * We add them because:
 *   - We had provided |summary { display: block }| for a long time,
 *     there are sites using <summary> without details, and they
 *     expect that <summary> is not a list-item.
 *   - Firefox does so.
 */
details > summary:first-of-type {
    display: list-item;
    counter-increment: list-item 0;
    list-style: disclosure-closed inside;
}

details[open] > summary:first-of-type {
    list-style-type: disclosure-open;
}

bdi, output {
    unicode-bidi: isolate;
}

bdo {
    unicode-bidi: bidi-override;
}

textarea[dir=auto i] {
    unicode-bidi: plaintext;
}

dialog:not([open]) {
    display: none;
}

dialog {
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    width: fit-content;
    height: fit-content;
    margin: auto;
    border: solid;
    padding: 1em;
    background: -internal-light-dark(white, black);
    color: -internal-light-dark(black, white);
}

dialog:-internal-modal {
    position: fixed;
    overflow: auto;
    top: 0;
    bottom: 0;
    /* 6px + 2em = border + padding, as by default box-sizing is content-box. */
    max-width: calc(100% - 6px - 2em);
    max-height: calc(100% - 6px - 2em);
}

/* TODO(foolip): In the Fullscreen spec, there's a ::backdrop block with the
   properties shared with :fullscreen::backdrop (see fullscreen.css). */
dialog::backdrop {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: rgba(0,0,0,0.1)
}

slot {
    display: contents;
}

/* page */

@page {
    /* FIXME: Define the right default values for page properties. */
    size: auto;
    margin: auto;
    padding: 0px;
    border-width: 0px;
}

/* Allows thead sections to print at the top of each page. */
@media print {
    thead { break-inside:avoid; }
    tfoot { break-inside:avoid; }
}

/* noscript is handled internally, as it depends on settings. */
* {
    padding: 0px;
    margin: 0px;
    font-size: 14px;

    cursor: default;
    border: none;
    outline: none;
    color: #222222;
    box-sizing: border-box;
}

body, html {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  height: 100%;
}

body, body > * {
  display: flex;
  flex-direction: row;
  margin: 0px;
}

body {
  background: white;
  max-height: 100%;
  overflow: hidden;
  flex-direction: column;
}

html {
  height: 100%;
  max-height: 100%;
  overflow: hidden;
}

textarea {
    resize: none;
}

script {
    display: none;
}

/* Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type=number] {
  -moz-appearance: textfield;
}

input[type="file"] {
    display: none;
}
/* RIBBON BODY */
.__application-ribbon-body {
    height: 90px;
    display: flex;
    overflow:hidden;
    flex-direction: row;
    border-bottom: 1px solid #D5D5D5;
    font-family: sans-serif;
    padding: 2px;
    font-size: 12px;
    user-select:none;
    -webkit-user-select:none;
}

.__application-ribbon-section {
    padding: 0px 2px;
    border-right: 1px solid #E1E1E1;
    display: flex;
    flex-direction: column;
}

.__application-ribbon-section-content {
    flex-grow: 1;
}

.__application-ribbon-section-name {
    font-size: 11px;
    color: #444444;
    text-align: center;
    min-width: 80px;
}

/* RIBBON BUTTONS*/
.__application-ribbon-action-vertical-large {
    flex-direction: column;
    padding: 4px;
    margin: 4px;
    display: flex;
    background: white;
    cursor: pointer;
    border-radius: 2px;
}

.__application-ribbon-action-vertical-large:hover {
    box-shadow: 0px 0px 10px #ccc;
    cursor: pointer;
}

.__application-ribbon-action-vertical-large .icon-wrapper {
    flex-direction: row;
    align-items: center;
    justify-content: center;
    align-content: center;
    font-size: 12px;
    display: flex;
    cursor: pointer;
}

.__application-ribbon-action-vertical-large .icon-wrapper img.icon {
    height: 32px;
    width: 32px;
    margin: 4px;
    cursor: pointer;
}

.__application-ribbon-action-vertical-large p {
    text-align: center;
    align-items: center;
    font-size: 12px;
    cursor: pointer;
}

.__application-ribbon-action-vertical-large .dropdown {
    flex-direction: row;
    align-items: center;
    justify-content: center;
    align-content: center;
    cursor: pointer;
}

.__application-ribbon-action-vertical-large .dropdown .icon {
    height: 5px;
    width: 5px;
    background: salmon;
    cursor: pointer;
}
#__application-main {
	display: flex;
	flex-grow: 1;
	height:100%;
}

#__application-main #__application-file-list {
  max-width: 200px;
  min-width: 200px;
  width: 200px;
  display: block;
  background: #efefef;
  overflow-y: auto;
  box-shadow: 0px 0px 3px black;
  height: 100%;
  user-select: none;
  -webkit-user-select: none;
  max-height:1000px;
}

img {
    user-select: none;
    -webkit-user-select: none;
}

#__application-main #__application-file-list > div {
  font-size: 12px;
  font-family: monospace;
  padding: 5px 10px;
  cursor: pointer;
  user-select: none;
  -webkit-user-select: none;
}

#__application-main #__application-file-list > div.active {
  background: antiquewhite;
}

#__application-main #__application-file-list > div:hover {
  background: #ccc;
}

#__application-main #__application-file-list > div:active {
  background: #aaa;
}

#__application-main #__application-page-list {
  width: 200px;
  min-width: 200px;
  max-width: 200px;
  max-height:1000px;
  display: block;
  background: white;
  overflow-y: auto;
  user-select: none;
  -webkit-user-select: none;
}

#__application-main #__application-page-list h5 {
    margin: 10px;
    user-select: none;
    -webkit-user-select: none;
}

#__application-main #__application-page-list .__application-page {
  width: 40px;
  cursor: pointer;
  margin: 6px;
  font-family: sans-serif;
  font-size: 16px;
  background: white;
  border: 1px solid #efefef;
  color: #bbb;
  text-align: center;
  height: 55px;  
  display: inline-flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  user-select: none;
  -webkit-user-select: none;
}

#__application-main #__application-page-list .__application-page.loaded {
  background: aliceblue;
  color: black;
  border: 1px solid #bbb;
}

#__application-main #__application-page-list .__application-page.loaded.active {
  background: darkblue;
  color: white;
  border: 1px solid white;
}

#__application-main #__application-page-list .__application-page:hover {
  border: 1px solid aliceblue;
}

#__application-main #__application-main-container {
    display: block;
    background: white;
    overflow-y: scroll;
    overflow-x: auto;
    user-select: none;
    -webkit-user-select: none;
}

#__application-analyse-grundbuch {
    user-select: initial;
    -webkit-user-select: initial;
}

#__application-main #__application-main-container:hover {
    z-index: 1;
}

#__application-main #__application-main-container > * {
  display: block;
  overflow: hidden;
  
}

#__application-main #__application-main-container > * > h4 {
  font-family: sans-serif;
  font-size: 16px;
}

#__application-main #__application-main-container .__application-table-header {
  margin: 5px 0px;
  margin-top: 10px;
  display: block;
  white-space: nowrap;
  user-select: none;
  -webkit-user-select: none;
}

#__application-main #__application-main-container .__application-table-header p {
  font-family: sans-serif;
  font-weight: bold;
  white-space: nowrap;
  margin-right: 10px;
  display: inline-block;
}

#__application-main input {
  margin-right: 10px;
  font-family: monospace;
  border: 1px solid rgba(255, 255, 255, 0);
  font-size: 16px;
  cursor: text;
}

#__application-main input:hover {
    border: 1px solid rgba(25, 25, 25, 1);
}

#__application-main textarea {
  font-family: sans-serif;
  border: 1px solid grey;
  font-size: 1.2em;
}

#__application-main #__application-main-container > #__application-abteilung-3 {
    background: LightCyan;
}

#__application-main #__application-pdf-page-image {
  background: #444;
  display:flex;
  flex-grow:1;
  overflow: scroll;
  max-height:400px;
  user-select: none;
  -webkit-user-select: none;
}

#__application-main #__application-pdf-page-image > div {
    margin: 0px auto;
    user-select: none;
    -webkit-user-select: none;
}

#__application-main #__application-pdf-page-image img {
    width: 1200px;
    height: intrinsic;
    box-shadow: 0px 0px 20px black;
    user-select: none;
    -webkit-user-select: none;
}

.kontextmenü-eintrag {
    padding: 0px 10px;
    cursor:pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.kontextmenü-eintrag:hover {
    background: #efefef;    
    cursor:pointer;
}

.kontextmenü-eintrag:active {
    background: #aaa;
    cursor:pointer;
}

.kontextmenü-eintrag:active p {
    color:white;
    cursor:pointer;
}

.btn {
    display:flex;
    flex-grow: 0;
    cursor:pointer;
    margin: 2px;
    height: 23px;
    
    font-weight: bold;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    -ms-touch-action: manipulation;
    touch-action: manipulation;
    cursor: pointer;
    background-image: none;
    border: 1px solid transparent;
    padding: 2px 6px;
    font-size: 12px;
    line-height: 1.42857143;
    border-radius: 4px;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.btn_neu {
    color: #fff;
    background-color: #5cb85c;
    border-color: #4cae4c;
}

.btn_roeten {
    color: #fff;
    background-color: #f0ad4e;
    border-color: #eea236;
}

.btn_loeschen {
    color: #fff;
    background-color: #d9534f;
    border-color: #d43f3a;
}

.disabled {
    filter: grayscale(100%) brightness(150%);
}

.__application-bestandsverzeichnis-eintrag,
.__application-abt1-eintrag,
.__application-abt1-grundlage-eintragung,
.__application-abt2-eintrag,
.__application-abt3-eintrag {
   padding: 2px;
}

.__application-bestandsverzeichnis-eintrag:hover,
.__application-abt1-eintrag:hover,
.__application-abt1-grundlage-eintragung:hover,
.__application-abt2-eintrag:hover,
.__application-abt3-eintrag:hover {
    background: rgb(245, 245, 245);
}

.stringorlines-textfield {
  margin-right: 10px;
  font-family: monospace;
  border: 1px solid rgba(255, 255, 255, 0);
  font-size: 16px;
  cursor: text;
}

.stringorlines-textfield > p {
  font-family: monospace;
  font-size: 16px;
  cursor: text;
}

.stringorlines-textfield:hover {
    border: 1px solid rgba(25, 25, 25, 1);
}

.__application_configuration_sidebar_section {
    border-radius: 5px;
    border: 1px solid transparent;
    background: white;
    transition: color 1s, background 1s, border 1s;
    display:flex;
    color: #ccc;
    flex-direction:row;
    justify-content: space-between;
    align-items: center;
    padding: 3px 6px;
    cursor:pointer;
    margin-top:5px;
    cursor: pointer;
}

.__application_configuration_sidebar_section p {
    text-align: right;
    font-style: italic;
    color: #444;
    cursor: pointer;
    transition: color 1s, background 1s, border 1s;
}

.__application_configuration_sidebar_section img {
    width: 25px;
    height:25pc;
    margin-right:10px;
    background: white;
    padding: 4px;
    border-radius: 2px;
    cursor: pointer;
}

.__application_configuration_sidebar_section:hover {
    color: #9d00ff;
    border: 1px solid #9d00ff;
}

.__application_configuration_sidebar_section:hover p {
    color: #9d00ff;
}

.__application_configuration_sidebar_section.active {
    border: 1px solid white;
    background: #9d00ff;
    color: white;
}


.__application_configuration_sidebar_section.active p {
    color: white;
}

#__application_grundbuch_suchen_suchergebnisse {
    
}

.__application_suchergebnis {
    display: flex;
    flex-direction:row;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid rgb(219, 219, 219);
    margin-bottom: 5px;
}

.__application_suchergebnis button {
    flex-grow: 1;
    align-content: center;
    text-align: center;
    align-items: center;
    display: flex;
    margin: 15px;
}

.__application_suchergebnis_description {
    display: flex;
    flex-grow:1;
    flex-direction:column;
}

.__application_suchergebnis_description > h5 {
    margin-bottom: 5px;
}

.__application_suchergebnis_description > span > * {
    display: inline;
}

#__application_grundbuch_upload_aenderungen {
    
}

#__application_aenderung_dateien {
    padding: 10px 0px;
    margin-right:10px;
    overflow-y: scroll;
    max-height: 400px;
    min-height: 300px;
}

#__application_aenderung_dateien p {
    font-size: 14px;
    padding: 10px;
    border-radius: 3px;
    font-family: monospace;
    border: 2px solid rgb(249, 249, 249);
    margin-bottom: 5px;
    margin-right: 10px;
    margin-left: 10px;
    cursor:pointer;
    box-shadow: 1px 1px 5px #ccc;
    background: rgb(251, 251, 251);
}

#__application_aenderung_dateien p:hover {
    position:relative;
    top:-1px;
    background: rgb(249, 249, 249);
}

#__application_aenderung_dateien p:active {
    background: rgb(230, 230, 230);
}

#__application_aenderung_dateien p.selected {
    border: 2px solid rgb(87, 149, 223);
}

#__application_aenderungen {
    display: flex;
    flex-grow: 1;
    flex-direction: column;
}

#__application_aenderungen span {
    display: flex;
    flex-direction: row;
    flex-grow: 1;
    user-select: none;
    -webkit-user-select:none;
    font-family: monospace;
    font-size: 14px;
    background: white;
}

#__application_aenderungen span p {
    font-size: 12px;
}

#__application_aenderungen span.add {
    background: white;
}

#__application_aenderungen span.remove {
    background: white; 
}

#__application_aenderungen span p:first-child {
    width: 20px;
    padding-left: 4px;
}

#__application_aenderungen {
    
    
}
.btn-grad {
    background-image: linear-gradient(to right, #24C6DC 0%, #514A9D  51%, #24C6DC  100%)
}

.btn-grad {
    margin: 5px;
    padding: 7px 15px;
    text-align: center;
    font-weight: bold;
    text-shadow: 1px 1px 5px #000000cc;
    cursor:pointer;
    text-transform: uppercase;
    transition: 0.5s;
    background-size: 200% auto;
    color: white;            
    box-shadow: 0 0 20px #eee;
    border-radius: 2px;
    display: block;
}

.btn-grad:hover {
    background-position: right center; /* change the direction of the change here */
    color: #fff;
    text-decoration: none;
}
        
</style>
        <script type="text/javascript">
"use strict";

let rpc = {
    
  invoke : function(arg) { window.webkit.messageHandlers.external.postMessage(JSON.stringify(arg)); },
  init: function() { rpc.invoke({ cmd: 'init' }); },
  
  load_pdf: function() { rpc.invoke({ cmd : 'load_pdf' }); },
  create_new_grundbuch: function() { rpc.invoke({ cmd : 'create_new_grundbuch' }); },
  grundbuch_anlegen: function(land, grundbuch_von, amtsgericht, blatt) { rpc.invoke({ cmd : 'grundbuch_anlegen', land: land, grundbuch_von: grundbuch_von, amtsgericht: amtsgericht, blatt: blatt }); },
  undo:  function() { rpc.invoke({ cmd : 'undo' }); },
  redo:  function() { rpc.invoke({ cmd : 'redo' }); },
  export_nb:  function() { rpc.invoke({ cmd : 'export_nb' }); },
  export_pdf: function() { rpc.invoke({ cmd : 'export_pdf' }); },
  grundbuch_exportieren: function(was_exportieren, exportiere_bv, exportiere_abt_1, exportiere_abt_2, exportiere_abt_3, exportiere_pdf_leere_seite, exportiere_geroetete_eintraege, exportiere_in_eine_einzelne_datei) {
      rpc.invoke({ 
          cmd : 'grundbuch_exportieren', 
          was_exportieren: was_exportieren,
          exportiere_bv: exportiere_bv,
          exportiere_abt_1: exportiere_abt_1,
          exportiere_abt_2: exportiere_abt_2,
          exportiere_abt_3: exportiere_abt_3,
          exportiere_pdf_leere_seite: exportiere_pdf_leere_seite,
          exportiere_geroetete_eintraege: exportiere_geroetete_eintraege,
          exportiere_in_eine_einzelne_datei: exportiere_in_eine_einzelne_datei,
    });
  },
  
  export_alle_rechte: function() { rpc.invoke({ cmd : 'export_alle_rechte' }); },
  export_alle_fehler: function() { rpc.invoke({ cmd : 'export_alle_fehler' }); },
  export_alle_abt1: function() { rpc.invoke({ cmd : 'export_alle_abt1' }); },
  export_alle_teilbelastungen: function() { rpc.invoke({ cmd : 'export_alle_teilbelastungen' }); },
  check_pdf_image_sichtbar: function() { rpc.invoke({ cmd : 'check_pdf_image_sichtbar' }); },
  toggle_lefis_analyse: function() { rpc.invoke({ cmd : 'toggle_lefis_analyse' }); },
  check_pdf_for_errors: function() { rpc.invoke({ cmd : 'check_pdf_for_errors' }); },

  open_grundbuch_suchen_dialog: function()  { rpc.invoke({ cmd : 'open_grundbuch_suchen_dialog' }); },
  search: function(search_text) { rpc.invoke({ cmd : 'search', search_text: search_text }); },
  open_grundbuch_upload_dialog: function()  { rpc.invoke({ cmd : 'open_grundbuch_upload_dialog' }); },

  import_nb:  function() { rpc.invoke({ cmd : 'import_nb' }); },
  export_lefis:  function() { rpc.invoke({ cmd : 'export_lefis' }); },
  delete_nb: function() { rpc.invoke({ cmd : 'delete_nb' }); },
  open_info: function() { rpc.invoke({ cmd : 'open_info' }); },
  open_help: function() { rpc.invoke({ cmd : 'open_help' }); },
  open_export_pdf: function() { rpc.invoke({ cmd : 'open_export_pdf' }); },
  open_configuration: function() { rpc.invoke({ cmd : 'open_configuration' }); },
  set_configuration_view: function(section_id) { rpc.invoke({ cmd : 'set_configuration_view', section_id: section_id }); },
  
  reset_ocr_selection: function() { rpc.invoke({ cmd : 'reset_ocr_selection' }); },
  select_ocr: function(file_name, page, min_x, min_y, max_x, max_y, page_width, page_height) { rpc.invoke({ 
      cmd : 'select_ocr', 
      file_name: file_name, 
      page: page, 
      min_x: min_x, 
      min_y: min_y, 
      max_x: max_x, 
      max_y: max_y,
      page_width: page_width,
      page_height: page_height
    });
  },

  check_for_pdf_loaded: function(arg, arg2) { rpc.invoke({ cmd : 'check_for_pdf_loaded', file_path: arg, file_name: arg2 }); },
  edit_text: function(arg, arg2) { rpc.invoke({ cmd : 'edit_text', path: arg, new_value: arg2 }); },
  eintrag_neu: function(arg) { rpc.invoke({ cmd : 'eintrag_neu', path: arg }); },
  eintrag_loeschen: function(arg) { rpc.invoke({ cmd : 'eintrag_loeschen', path: arg }); },
  eintrag_roeten: function(arg) { rpc.invoke({ cmd : 'eintrag_roeten', path: arg }); },
  open_context_menu: function(x, y, seite) { rpc.invoke({ cmd : 'open_context_menu', x: x, y: y, seite: seite }); },
  close_pop_over:  function() { rpc.invoke({ cmd : 'close_pop_over' }); },
  close_file: function(arg) { rpc.invoke({ cmd : 'close_file', file_name: arg }); },
 
  edit_regex_key: function(old_key, new_key) { rpc.invoke({ cmd: 'edit_regex_key', old_key: old_key, new_key: new_key }); },
  edit_regex_value: function(key, value) { rpc.invoke({ cmd: 'edit_regex_value', key: key, value: value }); },
  insert_regex: function(arg) { rpc.invoke({ cmd : 'insert_regex', regex_key: arg });},
  teste_regex: function(regex_id, text) { rpc.invoke({ cmd: 'teste_regex', regex_id: regex_id, text: text }); },
  regex_loeschen: function(arg) { rpc.invoke({ cmd : 'regex_loeschen', regex_key: arg });},

  edit_abkuerzungen_script: function(arg) { rpc.invoke({ cmd : 'edit_abkuerzungen_script', script: arg });},
  edit_text_saubern_script: function(arg) { rpc.invoke({ cmd : 'edit_text_saubern_script', script: arg });},
  edit_flurstuecke_auslesen_script: function(arg) { rpc.invoke({ cmd : 'edit_flurstuecke_auslesen_script', script: arg });},

  edit_text_kuerzen_abt2_script: function(arg) { rpc.invoke({ cmd : 'edit_text_kuerzen_abt2_script', script: arg });},
  kurztext_abt2_script_testen: function(arg) { rpc.invoke({ cmd: 'kurztext_abt2_script_testen', text: arg }); },  
  flurstueck_auslesen_script_testen: function(arg, bv_nr) { rpc.invoke({ cmd: 'flurstueck_auslesen_script_testen', text: arg, bv_nr: bv_nr }); },  

  edit_rechteart_script: function(neu) { rpc.invoke({ cmd: 'edit_rechteart_script', neu: neu }); },
  rechteart_script_testen: function(arg) { rpc.invoke({ cmd: 'rechteart_script_testen', text: arg }); },
  edit_rechtsinhaber_auslesen_abt2_script: function(neu) { rpc.invoke({ cmd: 'edit_rechtsinhaber_auslesen_abt2_script', neu: neu }); },
  rechtsinhaber_auslesen_abt2_script_testen: function(arg) { rpc.invoke({ cmd: 'rechtsinhaber_auslesen_abt2_script_testen', text: arg }); },
  edit_rangvermerk_auslesen_abt2_script: function(neu) { rpc.invoke({ cmd: 'edit_rangvermerk_auslesen_abt2_script', neu: neu }); },
  rangvermerk_auslesen_abt2_script_testen: function(arg) { rpc.invoke({ cmd: 'rangvermerk_auslesen_abt2_script_testen', text: arg }); },
  
  edit_text_kuerzen_abt3_script: function(arg) { rpc.invoke({ cmd : 'edit_text_kuerzen_abt3_script', script: arg });},
  kurztext_abt3_script_testen: function(arg) { rpc.invoke({ cmd: 'kurztext_abt3_script_testen', text: arg }); },
  edit_betrag_auslesen_script: function(neu) { rpc.invoke({ cmd: 'edit_betrag_auslesen_script', neu: neu }); },
  betrag_auslesen_script_testen: function(arg) { rpc.invoke({ cmd: 'betrag_auslesen_script_testen', text: arg }); },
  edit_schuldenart_script: function(neu) { rpc.invoke({ cmd: 'edit_schuldenart_script', neu: neu }); },
  schuldenart_script_testen: function(arg) { rpc.invoke({ cmd: 'schuldenart_script_testen', text: arg }); },
  edit_rechtsinhaber_auslesen_abt3_script: function(neu) { rpc.invoke({ cmd: 'edit_rechtsinhaber_auslesen_abt3_script', neu: neu }); },
  rechtsinhaber_auslesen_abt3_script_testen: function(arg) { rpc.invoke({ cmd: 'rechtsinhaber_auslesen_abt3_script_testen', text: arg }); },
  bv_eintrag_typ_aendern: function(path, value) { rpc.invoke({ cmd: 'bv_eintrag_typ_aendern', path: path, value: value }); },
  copy_text_to_clipboard: function(text) { rpc.invoke({ cmd: 'copy_text_to_clipboard', text: text }); },
  
  klassifiziere_seite_neu: function(seite, klassifikation_neu) { rpc.invoke({ cmd: 'klassifiziere_seite_neu', seite: seite, klassifikation_neu: klassifikation_neu }); },
  resize_column: function(direction, columnId, x, y) { rpc.invoke({ cmd: 'resize_column', direction: direction, column_id: columnId, x: x, y: y }); },
  toggle_checkbox: function(checkbox_id) { rpc.invoke({ cmd: 'toggle_checkbox', checkbox_id: checkbox_id }); },
  reload_grundbuch: function() { rpc.invoke({ cmd: 'reload_grundbuch' }); },
  zeile_neu: function(file, page, y) { rpc.invoke({ cmd: 'zeile_neu', file: file, page: page, y: y }); },
  zeile_loeschen: function(file, page, zeilen_id) { rpc.invoke({ cmd: 'zeile_loeschen', file: file, page: page, zeilen_id: zeilen_id }); },
  
  set_active_ribbon_tab: function(arg) { rpc.invoke({ cmd : 'set_active_ribbon_tab', new_tab: arg }); },
  set_open_file: function(arg) { rpc.invoke({ cmd : 'set_open_file', new_file: arg }); },
  set_open_page: function(arg) { rpc.invoke({ cmd : 'set_open_page', active_page: arg }); },
};

let tab_functions = {
    load_new_pdf: function(event) { rpc.load_pdf(); },
    create_new_grundbuch: function(event) { rpc.create_new_grundbuch(); },
    undo: function(event) { rpc.undo() },
    redo: function(event) { rpc.redo() },
    search_grundbuch: function(event) { rpc.open_grundbuch_suchen_dialog() },
    upload_grundbuch: function(event) { rpc.open_grundbuch_upload_dialog() },
    export_nb: function(event) { rpc.export_nb() },
    import_nb: function(event) { rpc.import_nb() },
    delete_nb: function(event) { rpc.delete_nb() },
    export_alle_rechte: function(event) { rpc.export_alle_rechte() },
    export_alle_fehler: function(event) { rpc.export_alle_fehler() },
    export_alle_teilbelastungen: function(event) { rpc.export_alle_teilbelastungen() },
    export_alle_abt1: function(event) { rpc.export_alle_abt1() },
    export_lefis: function(event) { rpc.export_lefis() },
    export_pdf: function(event) { rpc.export_pdf() },
    open_configuration: function(event) { rpc.open_configuration() },
    open_help: function(event) { rpc.open_help() },
    open_info: function(event) { rpc.open_info() },
    open_export_pdf: function(event) { rpc.open_export_pdf() },
};

let files_to_check = {};

setInterval(function(){
    for (const [key, value] of Object.entries(files_to_check)) {
        rpc.check_for_pdf_loaded(key, value);
    }
}, 1000);

function startCheckingForPageLoaded(filepath, filename) {
    files_to_check[filepath] = filename;
}

function stopCheckingForPageLoaded(filename) {
    if (files_to_check.hasOwnProperty(filename)) {
        delete files_to_check[filename];
    }
}

setInterval(function(){
    if (!(document.getElementById("__application_page_img_inner"))) {
        rpc.check_pdf_image_sichtbar();
    }
}, 100);

function startCheckingForPdfErrors() {
    setInterval(function(){
        rpc.check_pdf_for_errors();
    }, 1278);
}

function toggleLefisAnalyse(event) {
    rpc.toggle_lefis_analyse();
}

function startCheckingForImageLoaded(filepath, filename) {
    images_to_load[filepath] = filename;
}

function stopCheckingForImageLoaded(filename) {
    if (images_to_load.hasOwnProperty(filename)) {
        delete images_to_load[filename];
    }
}

let ocr_selection_rect = null;

function onOcrSelectionDragStart(event) {
        
    let selection_rect = document.getElementById("__application_ocr_selection");
    if (!selection_rect)
        return;
        
    let parent = selection_rect.parentElement;
    if (!parent)
        return;
    
    let parent_width = parent.clientWidth;
    let parent_height = parent.clientHeight;

    let bounds = parent.getBoundingClientRect();
    let x = event.clientX - bounds.left;
    let y = event.clientY - bounds.top;
    
    var file = parent.getAttribute("data-fileName");
    if (!file) {
        return;
    }
    
    var page = Number(parent.getAttribute("data-pageNumber"));
    if (!page) {
        return;
    }
        
    if (!ocr_selection_rect) {
        ocr_selection_rect = { 
            page_width: parent_width, 
            page_height: parent_height,
            min_x: x,
            min_y: y,
            max_x: x,
            max_y: y,
            file: file,
            page: page,        
        };
    }
}

function onOcrSelectionDrag(event) {
        
    let selection_rect = document.getElementById("__application_ocr_selection");
    if (!selection_rect)
        return;
        
    let parent = selection_rect.parentElement;
    if (!parent)
        return;
    
    if (!ocr_selection_rect) {
        return;
    }

    let parent_width = parent.clientWidth;
    let parent_height = parent.clientHeight;

    let bounds = parent.getBoundingClientRect();
    let x = event.clientX - bounds.left;
    let y = event.clientY - bounds.top;
    
    var file = parent.getAttribute("data-fileName");
    if (!file) {
        return;
    }
    
    var page = Number(parent.getAttribute("data-pageNumber"));
    if (!page) {
        return;
    }
    
    if (ocr_selection_rect.file != file || ocr_selection_rect.page != page) {
        return;
    }
    
    ocr_selection_rect.max_x = x;
    ocr_selection_rect.max_y = y;
        
    let selection_width = ocr_selection_rect.max_x - ocr_selection_rect.min_x;
    let selection_height = ocr_selection_rect.max_y - ocr_selection_rect.min_y;

    selection_rect.style.background = "#BFEA93";
    selection_rect.style.transform = "translate(" + ocr_selection_rect.min_x +  "px, " + ocr_selection_rect.min_y + "px)";
    selection_rect.style.transform += "scale(" + selection_width + ", " + selection_height + ")";    
}

function onOcrSelectionDragStop(event) {
            
    if (!ocr_selection_rect)
        return;
    
    rpc.select_ocr(
        ocr_selection_rect.file,
        ocr_selection_rect.page,
        ocr_selection_rect.min_x,
        ocr_selection_rect.min_y,
        ocr_selection_rect.max_x,
        ocr_selection_rect.max_y,
        ocr_selection_rect.page_width,
        ocr_selection_rect.page_height
    );
}

function resetOcrSelection() {
        
    let selection_rect = document.getElementById("__application_ocr_selection");
    if (!selection_rect)
        return;
    
    selection_rect.style.background = "transparent";
    selection_rect.style.transform = "translate(0px, 0px)";
    selection_rect.style.transform += "scale(1.0, 1.0)";
    ocr_selection_rect = null;
}

function eintragNeu(path) {
    rpc.eintrag_neu(path);        
}

function eintragRoeten(path) {
    rpc.eintrag_roeten(path);        
}

function eintragLoeschen(path) {
    rpc.eintrag_loeschen(path);        
}

function inputOnKeyDown(path, e) {
    if ((event.keyCode == 10 || event.keyCode == 13) && event.ctrlKey) {
        // CTRL + Enter
        rpc.eintrag_neu(path);        
    } else if (event.keyCode == 32 && event.ctrlKey) {
        // CTRL + Leer
        rpc.eintrag_roeten(path);        
    } else if (event.keyCode == 46 && event.ctrlKey) {
        // CTRL + Entf
        rpc.eintrag_loeschen(path);        
    }
}

function editText(path, e) {
    rpc.edit_text(path, e.target.value);
}

function displayError(error) {
    // console.error(error);
}

function logInfo(info) {
    // console.log(info);
}

// Function called from Rust on init to initialize the entire screen
function replaceEntireScreen(html) {
    document.body.innerHTML = html;
}

function replaceMainContainer(s) {
    let ribbon = document.getElementById("__application-main-container");
    if (ribbon)
         ribbon.innerHTML = s;
}

function replaceRibbon(s) {
    let ribbon = document.getElementById("__application-ribbon");
    if (ribbon)
         ribbon.innerHTML = s;
}

function replaceMain(s) {
    let ribbon = document.getElementById("__application-main");
    if (ribbon)
         ribbon.innerHTML = s;
}

function replaceFileList(s) {
    let file_list = document.getElementById("__application-file-list");
    if (file_list)
         file_list.innerHTML = s;

}

function replacePageImage(s) {
    let page_list = document.getElementById("__application-pdf-page-image");
    if (page_list)
         page_list.innerHTML = s;
}

function replacePageList(s) {
    let page_list = document.getElementById("__application-page-list");
    if (page_list)
         page_list.innerHTML = s;
}

function replaceBestandsverzeichnis(s) {
    let e = document.getElementById("__application-bestandsverzeichnis");
    if (e)
        e.innerHTML = s;
}

function replaceMainNoFiles(s) {
    let e = document.getElementById("__application-main-no-files");
    if (e)
        e.innerHTML = s;
}

function replaceBestandsverzeichnisZuschreibungen(s) {
    let e = document.getElementById("__application-bestandsverzeichnis-veraenderungen");
    if (e)
        e.innerHTML = s;
}

function replaceBestandsverzeichnisAbschreibungen(s) {
    let e = document.getElementById("__application-bestandsverzeichnis-loeschungen");
    if (e)
        e.innerHTML = s;
}

function replaceAbt1(s) {
    let e = document.getElementById("__application-abteilung-1");
    if (e)
        e.innerHTML = s;
}

function replaceAbt1GrundlagenEintragungen(s) {
    let e = document.getElementById("__application-abteilung-1-grundlagen-eintragungen");
    if (e)
        e.innerHTML = s;    
}

function grundbuchSuchen(e) {
    let search_text = document.getElementById("__application_grundbuch_suchen_suchbegriff");
    if (!search_text) {
        return;
    }
    rpc.search(search_text.value);
}

function replaceSuchergebnisse(s) {
    let e = document.getElementById("__application_grundbuch_suchen_suchergebnisse");
    if (e)
        e.innerHTML = s;    
}

function grundbuchHerunterladen(e) {
    e.preventDefault();
    
    let download_id = e.target.dataset.downloadId;
    if (!download_id) {
        return false;
    }
    
    let file_name = e.target.dataset.fileName;
    if (!file_name) {
        return false;
    }
    
    return false;
}

function replaceAbt1Veraenderungen(s) {
    let e = document.getElementById("__application-abteilung-1-veraenderungen");
    if (e)
        e.innerHTML = s;
}

function replaceAbt1Loeschungen(s) {
    let e = document.getElementById("__application-abteilung-1-loeschungen");
    if (e)
        e.innerHTML = s;
}

function replaceAbt2(s) {
    let e = document.getElementById("__application-abteilung-2");
    if (e)
        e.innerHTML = s;
}

function replaceAbt2Veraenderungen(s) {
    let e = document.getElementById("__application-abteilung-2-veraenderungen");
    if (e)
        e.innerHTML = s;
}

function replaceAbt2Loeschungen(s) {
    let e = document.getElementById("__application-abteilung-2-loeschungen");
    if (e)
        e.innerHTML = s;
}

function replaceAbt3(s) {
    let e = document.getElementById("__application-abteilung-3");
    if (e)
        e.innerHTML = s;
}

function replaceAbt3Veraenderungen(s) {
    let e = document.getElementById("__application-abteilung-3-veraenderungen");
    if (e)
        e.innerHTML = s;
}

function replaceAbt3Loeschungen(s) {
    let e = document.getElementById("__application-abteilung-3-loeschungen");
    if (e)
        e.innerHTML = s;
}

function replaceAnalyseGrundbuch(s) {
    let e = document.getElementById("__application-analyse-grundbuch");
    if (e)
        e.innerHTML = s;
}


function openConfiguration(e) {
    rpc.open_configuration();

}

function openInfo(e) {
    rpc.open_info();
}

function openContextMenu(e) {
    var pn = e.target.getAttribute("data-pageNumber");
    if (!pn) {
        return;
    }
    rpc.open_context_menu(e.clientX, e.clientY, Number(pn));
    return false;
}

function replaceIcon(id, data) {

    let icon = document.getElementById("__application_file_icon-" + id);
    let icon_inner = document.getElementById("__application_file_icon-inner-" + id);

    if (!icon) {
        return;
    }
    
    if (icon_inner) {
        icon_inner.remove();
    }
    
    let new_icon = window.document.createElement('img');
    new_icon.id = "__application_file_icon-inner-" + id;
    new_icon.style = "width: 16px;height: 16px;margin-right:5px;flex-grow: 0;cursor: pointer;";
    new_icon.src = data;
    new_icon["data-fileName"] = id;
    
    icon.appendChild(new_icon);
}

function replacePopOver(s) {
    let page_list = document.getElementById("__application_popover");
    if (page_list)
         page_list.innerHTML = s;
}

function closePopOver(s) {
    rpc.close_pop_over();
}

function activateSelectedFile(event) {
    var file = event.target.getAttribute("data-fileName");
    if (!file) {
        console.log(event.target);
        return;
    }
    rpc.set_open_file(file);
}

function activateSelectedPage(event) {
    var pn = event.target.getAttribute("data-pageNumber");
    if (!pn) {
        return;
    }
    rpc.set_open_page(Number(pn, 10));
}

function regexLoeschen(event) {
    
    let key_id = event.target.getAttribute("data-key-id");
    if (!key_id) { 
        return; 
    }
    
    let regex_key_dom = document.getElementById(key_id);
    if (!regex_key_dom) { 
        return; 
    }
    
    let regex_key = regex_key_dom.innerText;
    if (!regex_key) { 
        return; 
    }
    
    rpc.regex_loeschen(regex_key);
}

function neueRegexOnEnter(event) {
    if(event.keyCode === 13){
        
        event.preventDefault();
        
        let key_id = event.target.getAttribute("data-key-id");
        if (!key_id) { 
            return; 
        }
        
        let regex_key_dom = document.getElementById(key_id);
        if (!regex_key_dom) { 
            return; 
        }
        
        let regex_key = regex_key_dom.innerText;
        if (!regex_key) { 
            return; 
        }
        
        rpc.insert_regex(regex_key);
    }
}

function insertRegexFromButton(event) {

    let regex_key = event.target.getAttribute("data-regex-id");
    if (!regex_key) { 
        return; 
    }
    
    rpc.insert_regex(regex_key);
}

function insertTabAtCaret(event){
   if(event.keyCode === 9){
       event.preventDefault();
       if (event.shiftKey) {
            event.target.dispatchEvent(new KeyboardEvent('keypress',{'key':'Backspace'}));
            event.target.dispatchEvent(new KeyboardEvent('keypress',{'key':'Backspace'}));
            event.target.dispatchEvent(new KeyboardEvent('keypress',{'key':'Backspace'}));
            event.target.dispatchEvent(new KeyboardEvent('keypress',{'key':'Backspace'}));
       } else {
            var editor = event.target;
            var doc = editor.ownerDocument.defaultView;
            var sel = doc.getSelection();
            var range = sel.getRangeAt(0);

            var tabNode = document.createTextNode("\u00a0\u00a0\u00a0\u00a0");
            range.insertNode(tabNode);

            range.setStartAfter(tabNode);
            range.setEndAfter(tabNode); 
            sel.removeAllRanges();
            sel.addRange(range);
            
       }        
    }
}

function editTextarea(event, id) {
    
    // using innerText here because it preserves newlines
    var innerText = event.target.innerText;
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }
    
    if (innerText) {
        rpc.edit_textarea(innerText, id);        
    }
}

function editAbkuerzungenScript(e) {
    // using innerText here because it preserves newlines
    var innerText = e.target.innerText;
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }
    
    if (innerText) {
        rpc.edit_abkuerzungen_script(innerText);        
    }
}


function editTextSaubernScript(e) {
    // using innerText here because it preserves newlines
    var innerText = e.target.innerText;
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }
    
    if (innerText) {
        rpc.edit_text_saubern_script(innerText);        
    }

}

function editFlurstueckeAuslesenScript(e) {
    // using innerText here because it preserves newlines
    var innerText = e.target.innerText;
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }
    
    if (innerText) {
        rpc.edit_flurstuecke_auslesen_script(innerText);        
    }

}

function editTextKuerzenAbt2Script(e) {
    // using innerText here because it preserves newlines
    var innerText = e.target.innerText;
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }
    
    if (innerText) {
        rpc.edit_text_kuerzen_abt2_script(innerText);        
    }

}

function flurstueckAuslesenScriptTesten(e) {

    let bv_input = document.getElementById("__application_konfiguration_flurstueck_auslesen_bv_nr");
    
    if (!bv_input)
        return;
    
    if (!bv_input.value)
        return;
    
    if (e.target.value) {
        rpc.flurstueck_auslesen_script_testen(e.target.value, bv_input.value);        
    }
}


function textKuerzenAbt2ScriptTesten(e) {
    if (e.target.value) {
        rpc.kurztext_abt2_script_testen(e.target.value);        
    }
}

function replaceTextKuerzenAbt2TestOutput(s) {
    let test_input = document.getElementById("__application_konfiguration_text_kuerzen_abt2_test");
    if (test_input)
         test_input.value = s;
}

function replaceFlurstueckAuslesenTestOutput(s) {
    let test_input = document.getElementById("__application_konfiguration_flurstueck_auslesen_test");
    if (test_input)
         test_input.value = s;
}

function editRechteArtScript(e) {
    // using innerText here because it preserves newlines
    var innerText = e.target.innerText;
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }
    
    if (innerText) {
        rpc.edit_rechteart_script(innerText);        
    }

}

function editRangvermerkAuslesenAbt2Script(e) {
    // using innerText here because it preserves newlines
    var innerText = e.target.innerText;
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }
    
    if (innerText) {
        rpc.edit_rangvermerk_auslesen_abt2_script(innerText);        
    }

}

function rangvermerkAuslesenAbt2ScriptTesten(e) {
    if (e.target.value) {
        rpc.rangvermerk_auslesen_abt2_script_testen(e.target.value);        
    }
}

function replaceRangvermerkAuslesenAbt2TestOutput(s) {
    let test_input = document.getElementById("__application_konfiguration_rangvermerk_auslesen_abt2_test");
    if (test_input)
         test_input.value = s;
}

function testeRegex(event) {
    let regex_id = document.getElementById("__application_konfiguration_regex_id");
    if (!regex_id) {
        return;
    }
    
    let regex_id_value = regex_id.value;
    if (!regex_id_value) {
        return;
    }

    let test_text = event.target.value;
    if (!test_text) {
        return;
    }
    
    rpc.teste_regex(regex_id_value, test_text);
}

function editRegexKey(event) {
    let new_key = event.target.innerText;
    if (!new_key) { 
        return;
    }
    let old_key = event.target.getAttribute("data-regex-key");
    if (!old_key) { 
        return; 
    }
    event.target.setAttribute("data-regex-key", new_key);
    rpc.edit_regex_key(old_key, new_key);
}

function editRegexValue(event) {
    let regex_value = event.target.innerText;
    if (!regex_value) { 
        return; 
    }
    let key_id = event.target.getAttribute("data-key-id");
    if (!key_id) { 
        return; 
    }
    let regex_key_dom = document.getElementById(key_id);
    if (!regex_key_dom) { 
        return; 
    }
    let regex_key = regex_key_dom.innerText;
    if (!regex_key) { 
        return; 
    }
    rpc.edit_regex_value(regex_key, regex_value);
    
    let regex_id = document.getElementById("__application_konfiguration_regex_id");
    if (!regex_id) {
        return;
    }
    
    let regex_id_value = regex_id.value;
    if (!regex_id_value) {
        return;
    }
    
    let test_text_dom = document.getElementById("__application_konfiguration_regex_test_text");
    if (!test_text_dom) {
        return;
    }
    
    let test_text = test_text_dom.value;
    if (!test_text) {
        return;
    }
    
    rpc.teste_regex(regex_id_value, test_text);
}

function replaceRegexTestOutput(s) {
    let test_input = document.getElementById("__application_konfiguration_regex_test_output");
    if (test_input)
         test_input.value = s;
}

function rechteArtScriptTesten(e) {
    if (e.target.value) {
        rpc.rechteart_script_testen(e.target.value);        
    }
}

function replaceRechteArtTestOutput(s) {
    let test_input = document.getElementById("__application_konfiguration_rechteart_test");
    if (test_input)
         test_input.value = s;
}

function editRechtsinhaberAbt2Script(e) {
    // using innerText here because it preserves newlines
    var innerText = e.target.innerText;
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }
    
    if (innerText) {
        rpc.edit_rechtsinhaber_auslesen_abt2_script(innerText);        
    }

}


function rechtsinhaberAbt2ScriptTesten(e) {
    if (e.target.value) {
        rpc.rechtsinhaber_auslesen_abt2_script_testen(e.target.value);        
    }
}

function replaceRechtsinhaberAbt2TestOutput(s) {
    let test_input = document.getElementById("__application_konfiguration_rechtsinhaber_abt2_test");
    if (test_input)
         test_input.value = s;
}

// ---


function editTextKuerzenAbt3Script(e) {
    // using innerText here because it preserves newlines
    var innerText = e.target.innerText;
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }
    
    if (innerText) {
        rpc.edit_text_kuerzen_abt3_script(innerText);        
    }

}

function textKuerzenAbt3ScriptTesten(e) {
    if (e.target.value) {
        rpc.kurztext_abt3_script_testen(e.target.value);        
    }
}

function replaceTextKuerzenAbt3TestOutput(s) {
    let test_input = document.getElementById("__application_konfiguration_text_kuerzen_abt3_test");
    if (test_input)
         test_input.value = s;
}

function editBetragAuslesenScript(e) {
    // using innerText here because it preserves newlines
    var innerText = e.target.innerText;
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }
    
    if (innerText) {
        rpc.edit_betrag_auslesen_script(innerText);        
    }

}

function betragAuslesenScriptTesten(e) {
    if (e.target.value) {
        rpc.betrag_auslesen_script_testen(e.target.value);        
    }
}

function replaceBetragAuslesenTestOutput(s) {
    let test_input = document.getElementById("__application_konfiguration_betrag_auslesen_test");
    if (test_input)
         test_input.value = s;
}

function editSchuldenArtScript(e) {
    // using innerText here because it preserves newlines
    var innerText = e.target.innerText;
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }
    
    if (innerText) {
        rpc.edit_schuldenart_script(innerText);        
    }

}

function schuldenArtScriptTesten(e) {
    if (e.target.value) {
        rpc.schuldenart_script_testen(e.target.value);        
    }
}

function replaceSchuldenArtTestOutput(s) {
    let test_input = document.getElementById("__application_konfiguration_schuldenart_test");
    if (test_input)
         test_input.value = s;
}


function editRechtsinhaberAbt3Script(e) {
    // using innerText here because it preserves newlines
    var innerText = e.target.innerText;
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }
    
    if (innerText) {
        rpc.edit_rechtsinhaber_auslesen_abt3_script(innerText);        
    }

}


function rechtsinhaberAbt3ScriptTesten(e) {
    if (e.target.value) {
        rpc.rechtsinhaber_auslesen_abt3_script_testen(e.target.value);        
    }
}

function replaceRechtsinhaberAbt3TestOutput(s) {
    let test_input = document.getElementById("__application_konfiguration_rechtsinhaber_abt3_test");
    if (test_input)
         test_input.value = s;
}


// ---

function klassifiziereSeiteNeu(event) {
        
    var klassifikation = event.target.getAttribute("data-seite-neu");
    if (!klassifikation) {
        return;
    }
    
    var seite = Number(event.target.getAttribute("data-seite"));
    if (!seite) {
        return;
    }
    
    rpc.klassifiziere_seite_neu(seite, klassifikation);
}

function closeFile(event, path) {
    var path = event.target.getAttribute("data-fileName");
    if (!path) {
        return;
    }
    
    rpc.close_file(path);
}

function fallbackCopyTextToClipboard(text) {
  var textArea = document.createElement("textarea");
  textArea.value = text;
  
  // Avoid scrolling to bottom
  textArea.style.top = "0";
  textArea.style.left = "0";
  textArea.style.position = "fixed";

  document.body.appendChild(textArea);
  textArea.focus();
  textArea.select();

  try {
    var successful = document.execCommand('copy');
    var msg = successful ? 'successful' : 'unsuccessful';
  } catch (err) {
  }

  document.body.removeChild(textArea);
}

function copyTextToClipboard(text) {
  if (!navigator.clipboard) {
    fallbackCopyTextToClipboard(text);
    return;
  }
  navigator.clipboard.writeText(text).then(function() {
  }, function(err) {
  });
}

function resizeColumnOnMouseDown(event) {
    
    if (!event.which) {
        return;
    }
    
    if (!(event.which == 1)) {
        return;
    }
    
    event.target.style.width = '100px';
    event.target.style.height = '100px';

    var direction = event.target.getAttribute("data-direction");
    if (!direction) {
        return;
    }
    
    if (direction == 'nw') {
        event.target.style.top = '-50px';
        event.target.style.left = '-50px';
    } else if (direction == 'ne') {
        event.target.style.top = '-50px';
        event.target.style.right = '-50px';
    } else if (direction == 'se') {
        event.target.style.bottom = '-50px';
        event.target.style.right = '-50px';
    } else if (direction == 'sw') {
        event.target.style.bottom = '-50px';
        event.target.style.left = '-50px';
    }
}

function resizeColumnOnMouseUp(event) {

    if (!event.which) {
        return;
    }
    
    if (!(event.which == 1)) {
        return;
    }
    
    event.target.style.width = '15px';
    event.target.style.height = '15px';

    var direction = event.target.getAttribute("data-direction");
    if (!direction) {
        return;
    }
    
    if (direction == 'nw') {
        event.target.style.top = '-7.5px';
        event.target.style.left = '-7.5px';
    } else if (direction == 'ne') {
        event.target.style.top = '-7.5px';
        event.target.style.right = '-7.5px';
    } else if (direction == 'se') {
        event.target.style.bottom = '-7.5px';
        event.target.style.right = '-7.5px';
    } else if (direction == 'sw') {
        event.target.style.bottom = '-7.5px';
        event.target.style.left = '-7.5px';
    }
    
}

function resizeColumn(event) {    
    
    if (!event.which) {
        return;
    }
    
    if (!(event.which == 1 || event.which == 3)) {
        return;
    }
    
    var direction = event.target.getAttribute("data-direction");
    if (!direction) {
        return;
    }
    
    var columnId = event.target.getAttribute("data-columnId");
    if (!columnId) {
        return;
    }
    
    let parent = document.getElementById("__application_page_img_inner");
    if (!parent)
        return;
    
    let bounds = parent.getBoundingClientRect();
    let x = event.clientX - bounds.left;
    let y = event.clientY - bounds.top;

    rpc.resize_column(direction, columnId, x, y);
    
    return;
}

function adjustColumn(columnId, width, height, x, y) {
    
    let column = document.getElementById("__application_spalte_" + columnId);
    if (!column)
        return;
    
    column.style.transform = "translate(" + x +  "px, " + y + "px)";
    column.style.width = width + "px";
    column.style.height = height + "px";    
}

function toggleCheckbox(event) {
    var checkbox_id = event.target.getAttribute("data-checkBoxId");
    if (!checkbox_id) {
        return;
    }
    
    rpc.toggle_checkbox(checkbox_id);
}

function reloadGrundbuch(event) {
    rpc.reload_grundbuch();
}

function zeileNeu(event) {
        
    if (!event.which) {
        return;
    }
    
    if (event.which !== 1) {
        return;
    }
    
    let zeilen_container = document.getElementById("__application_page_lines");
    if (!zeilen_container)
        return;
    
    let bounds = zeilen_container.getBoundingClientRect();
    let y = event.clientY - bounds.top;
    
    var file = zeilen_container.getAttribute("data-fileName");
    if (!file) {
        return;
    }
    
    var page = Number(zeilen_container.getAttribute("data-pageNumber"));
    if (!page) {
        return;
    }
    
    rpc.zeile_neu(file, page, y);
}

function zeileLoeschen(event) {
    
    if (!event.which) {
        return;
    }
    
    event.stopPropagation();
    
    if (event.which !== 3) {
        return;
    }
    
    let zeilen_container = document.getElementById("__application_page_lines");
    if (!zeilen_container)
        return;
    
    var file = zeilen_container.getAttribute("data-fileName");
    if (!file) {
        return;
    }
    
    var page = Number(zeilen_container.getAttribute("data-pageNumber"));
    if (!page) {
        return;
    }
        
    var zeileIdString = event.target.getAttribute("data-zeileId");
    if (!zeileIdString) {
        return;
    }
    var zeileId = 0;
    if (zeileIdString !== "0") {
        zeileId = Number(zeileIdString);
    }
    
    rpc.zeile_loeschen(file, page, zeileId);
}

function zeilePreviewShow(event) {
    let zeile = document.getElementById("__application_zeile_preview");
    if (!zeile)
        return;
    zeile.style.opacity = "0.5";
}

function zeilePreviewHide(event) {
    let zeile = document.getElementById("__application_zeile_preview");
    if (!zeile)
        return;
    zeile.style.opacity = "0";
}

function zeilePreviewMove(event) {
    
    let zeilen_container = document.getElementById("__application_page_lines");
    if (!zeilen_container)
        return;
    
    let bounds = zeilen_container.getBoundingClientRect();
    let y = event.clientY - bounds.top;
    
    let zeile = document.getElementById("__application_zeile_preview");
    if (!zeile)
        return;
    zeile.style.opacity = "0.5";
    zeile.style.transform = "translateY(" + (y - 10.0) + "px)";
}


function replacePdfImage(s) {
    let img = document.getElementById("__application-pdf-page-image");
    if (!img)
        return;

    img.innerHTML = s;
}

function replacePdfImageZeilen(s) {
    let zeilen = document.getElementById("__application_zeilen");
    if (!zeilen)
        return;

    zeilen.innerHTML = s;
}

function bvEintragTypAendern(path, value) {
    rpc.bv_eintrag_typ_aendern(path, value);
}

function copyToClipboardOnSelectChange(event) {
    if (event.target.value) {
    	rpc.copy_text_to_clipboard("" + event.target.value);
    }
}

function editStringOrLines(event, inputId) {
    
    // using innerText here because it preserves newlines
    var innerText = event.target.innerText;
    if (!innerText) {
        return;
    }
    
    if(innerText[innerText.length-1] === '\n') {
        innerText = innerText.slice(0,-1);     
    }

    rpc.edit_text(inputId, innerText);    
}
function activateConfigurationView(event, section_id) {
    event.stopPropagation();
    event.preventDefault();
    rpc.set_configuration_view(section_id);
}

function grundbuchAnlegen(event) {
    event.preventDefault();
    
    var land = document.getElementById("__application_grundbuch_anlegen_land");
    if (!land)
        return;
    
    var amtsgericht = document.getElementById("__application_grundbuch_anlegen_amtsgericht");
    if (!amtsgericht)
        return;
    
    var grundbuch_von = document.getElementById("__application_grundbuch_anlegen_grundbuch_von");
    if (!grundbuch_von)
        return;
    
    var blatt = document.getElementById("__application_grundbuch_anlegen_blatt_nr");
    if (!blatt)
        return;
    
    rpc.grundbuch_anlegen(land.value, grundbuch_von.value, amtsgericht.value, parseInt(blatt.value));
    
    return false;
}

function grundbuchExportieren(event) {
    event.preventDefault();
        
    var was_exportieren = document.getElementById("__application_export-pdf-was-exportieren");
    if (!was_exportieren)
        return;
    
    var exportiere_bv = document.getElementById("export-pdf-bv");
    if (!exportiere_bv)
        return;
    
    var exportiere_abt_1 = document.getElementById("export-pdf-abt-1");
    if (!exportiere_abt_1)
        return;
        
    var exportiere_abt_2 = document.getElementById("export-pdf-abt-2");
    if (!exportiere_abt_2)
        return;
    
    var exportiere_abt_3 = document.getElementById("export-pdf-abt-3");
    if (!exportiere_abt_3)
        return;
    
    var exportiere_pdf_leere_seite = document.getElementById("export-pdf-leere-seite");
    if (!exportiere_pdf_leere_seite)
        return;
    
    var exportiere_geroetete_eintraege = document.getElementById("export-pdf-geroetete-eintraege");
    if (!exportiere_geroetete_eintraege)
        return;
        
    var exportiere_in_eine_einzelne_datei = document.getElementById("export-pdf-eine-datei");
    if (!exportiere_in_eine_einzelne_datei)
        return;
        
    rpc.grundbuch_exportieren(
        was_exportieren.value,
        exportiere_bv.checked,
        exportiere_abt_1.checked,
        exportiere_abt_2.checked,
        exportiere_abt_3.checked,
        exportiere_pdf_leere_seite.checked,
        exportiere_geroetete_eintraege.checked,
        exportiere_in_eine_einzelne_datei.checked,
    );
    
    return false;
}


// Init
window.onload = function() { rpc.init(); };
/*
document.querySelectorAll('*').forEach(function(node) {
    node.addEventListener('contextmenu', e => e.preventDefault())
});*/

</script>
    </head>
 
    <!-- Body filled by JS / Rust -->
    <body>
    
      <!-- REPLACED_ON_STARTUP -->
  
    </body>
</html>
